<!-- markdownlint-disable -->

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L0"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

# <kbd>module</kbd> `phases.py`
Experiment phases 
----------------- Phases act as parts of experiments which have a specific purpose, such as 
    - spontaneous recording 
    - amplitude sweep 
        --- over a neuron to find the stimulus amplitude that elicits a spike 
    - frequency stimulation  
        ---to stimulate one or more neurons at a certain frequency 
    - custom 
        ---where users can build exact logic for stimulation 



---

## <kbd>class</kbd> `FrequencyStimPhase`
Phase for stimulating a command at a certain frequency 

Parameters 
---------- env : base_env.BaseEnv  The environment to run the phase in stim_command : stim command or list of stim commands  If a single stim command, it will be repeated at the given frequency  If a list of stim commands, each stim command will be run sequentially stim_freq : float, optional  The frequency of the stimulation, by default 1 duration : int, optional  The duration of the stimulation in seconds, by default 10 tag : str, list of str, optional  The tag to use for the stimulation, by default 'frequency_stim'  If a list of strings, each tag will be used for the corresponding stim command 
        --- Must be the same length as stim_command verbose : bool, optional  Whether to print out information about the stimulation, by default False connect_units : list, optional  The units to connect to the stimulation electrodes, by default None, leaves as is  If a list is input, the stimulation units of the corresponding indexes in the environmen  will be connected. 

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L438"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `__init__`

```python
__init__(
    env: BaseEnv,
    stim_command: list,
    stim_freq: float = 1,
    duration: int = 10,
    tag='frequency_stim',
    verbose=False,
    connect_units=None
)
```








---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L506"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `info`

```python
info()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L37"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `predicted_time`

```python
predicted_time()
```

Returns the predicted time for the phase to run in seconds 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L464"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `run`

```python
run()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L34"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `time_elapsed`

```python
time_elapsed()
```






---

## <kbd>class</kbd> `NeuralSweepPhase`
Sweep the amplitude of a stimulation to find the minimum amplitude that elicits a spike 

Parameters 
---------- env : base_env.BaseEnv  The environment to run the phase in neuron_list : list  The neurons to stimulate amp_bounds : tuple  The bounds of the amplitude sweep  The step size defaults to 10% of the range, but   if a third element is provided, it will be used as the number of steps   (start, end, n_step) stim_freq : float, optional  The frequency of the stimulation, by default 1 replicates : int  The number of times to repeat the stimulation, by default 30 phase_length : int, optional  The length of one of the phases in the stimulation pulse, by default 100 type : str, optional  The type of amplitude sweep to perform, by default 'ran', determined by the   order of the following characters 
        - 'r': Iterate through replicates 
        - 'a': Iterate through the amplitudes 
        - 's': Iterate through the neurons  If you put 'random', it will randomly iterate through everything  Options: 
        - 'ran': First iterate through the replicates, then the amplitudes, then the neurons 
            --- ex: (r1, a1, n1), (r2, a1, n1),...,(r1, a2, n1), (r2, a2, n1),...  
        - 'rna': First iterate through the replicates, then the neurons, then the amplitudes 
            --- ex: (r1, a1, n1), (r2, a1, n1),...,(r1, a1, n2), (r2, a1, n2),... 
        - 'arn': First iterate through the amplitudes, then the replicates, then the neurons 
            --- ex: (r1, a1, n1), (r1, a2, n1),...,(r2, a1, n1), (r2, a2, n1),... 
        - etc. 

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L261"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `__init__`

```python
__init__(
    env: BaseEnv,
    neuron_list: list,
    amp_bounds=[150, 150, 1],
    stim_freq: float = 1,
    replicates=30,
    phase_length: int = 100,
    order='ran',
    single_connect=False,
    verbose=False,
    tag='neural_sweep'
)
```








---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L301"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `generate_stim_commands`

```python
generate_stim_commands()
```

Generates the stimulation commands for the amplitude sweep 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L397"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `info`

```python
info()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L37"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `predicted_time`

```python
predicted_time()
```

Returns the predicted time for the phase to run in seconds 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L350"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `run`

```python
run()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L34"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `time_elapsed`

```python
time_elapsed()
```






---

## <kbd>class</kbd> `Phase`
Base class for all phases 

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L27"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `__init__`

```python
__init__(env: BaseEnv)
```








---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L41"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `info`

```python
info()
```

Returns a dictionary of information about the phase 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L37"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `predicted_time`

```python
predicted_time()
```

Returns the predicted time for the phase to run in seconds 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L31"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `run`

```python
run()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L34"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `time_elapsed`

```python
time_elapsed()
```






---

## <kbd>class</kbd> `PhaseManager`
Manages phases of an experiment 

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L50"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `__init__`

```python
__init__(env: BaseEnv, verbose=False)
```








---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L61"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `add_phase`

```python
add_phase(phase: Phase)
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L64"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `add_phase_group`

```python
add_phase_group(phase_group: list)
```

Adds a group of phases to the manager,  each group will belong to the same save file 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L79"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `log_phase`

```python
log_phase(phase)
```

Appends the phase and filename to the log file 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L71"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `log_summary`

```python
log_summary()
```

Logs the summary of the experiment to a text file 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L92"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `run`

```python
run()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L151"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `summary`

```python
summary()
```

Returns a summary of the experiment as a string 


---

## <kbd>class</kbd> `RecordPhase`
Phase for recording spontaneous activity 

Parameters 
---------- env : base_env.BaseEnv  The environment to run the phase in duration : int  The duration of the recording in seconds, by default 10 

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L201"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `__init__`

```python
__init__(env: BaseEnv = None, duration: int = 10)
```








---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L217"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `info`

```python
info()
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L37"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `predicted_time`

```python
predicted_time()
```

Returns the predicted time for the phase to run in seconds 

---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L206"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `run`

```python
run(env=None)
```





---

<a href="https://github.com/braingeneers/brainloop/blob/main/brainloop/core/phases.py#L34"><img align="right" style={{"float":"right"}} src="https://img.shields.io/badge/-source-cccccc?style=flat-square" /></a>

### <kbd>function</kbd> `time_elapsed`

```python
time_elapsed()
```








---

_This file was automatically generated via [lazydocs](https://github.com/ml-tooling/lazydocs)._
